<ion-header>
  <ion-navbar color="primary">
    <ion-buttons left>
      <button navPop ion-button icon-only style="margin: 0 6px; min-width: 36px;">
        <ion-icon color="light" name="close"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>{{(editing ? "Editar" : "Adicionar")}} Imóvel</ion-title>
  </ion-navbar>
</ion-header>


<ion-content class="bg-owner-page" padding>
  <form [formGroup]="realEstateForm">
    <ion-list class="custom-form" text-center>
      <ion-label color="light" text-left>Detalhes do Imóvel</ion-label>

      <ion-item>
        <ion-label floating>Informe um nome para o imóvel</ion-label>
        <ion-input type="text" [formControl]="realEstateForm.controls['name']" name="name"></ion-input>
      </ion-item>

      <!-- <ion-item>
        <ion-label floating>Informe um link para o anúncio (Opcional)</ion-label>
        <ion-input type="text" [formControl]="realEstateForm.controls['link']" name="link"></ion-input>
      </ion-item> -->

      <ion-item>
        <ion-label floating>Selecione o tipo de imóvel</ion-label>
        <ion-select name="type" interface="popover" [formControl]="realEstateForm.controls['type']" name="type">
          <ion-option value="a">Apartamento</ion-option>
          <ion-option value="c">Casa</ion-option>
          <ion-option value="k">Kitnet</ion-option>
          <ion-option value="q">Quarto</ion-option>
          <ion-option value="o">Outro</ion-option>
        </ion-select>
      </ion-item>

      <!-- <ion-item>
        <ion-label floating>Descreva o imóvel (Opcional)</ion-label>
        <ion-textarea [formControl]="realEstateForm.controls['description']" name="description" rows="3"></ion-textarea>
      </ion-item> -->

      <hr>

      <ion-label color="light" text-left>Imagens</ion-label>

      <ion-toolbar transparent>
        <ion-buttons>
          <button ion-button icon-start clear color="secondary" type="button" (click)="openImagePickerCrop()">
            <ion-icon name="custom-camera"></ion-icon> Selecionar Imagem
          </button>
          <button ion-button icon-start clear color="secondary" type="button" (click)="openImagePicker()">
            <ion-icon name="custom-cloud-upload"></ion-icon> Fazer Upload
          </button>
        </ion-buttons>
      </ion-toolbar>

      <hr>

      <ion-label color="light" text-left>Endereço do Imóvel</ion-label>

      <ion-item>
        <ion-label floating>Informe o CEP</ion-label>
        <ion-input type="text" [formControl]="realEstateForm.controls['zip']" name="zip" (ionBlur)="getAddress(realEstateForm.value.zip)"
          [brmasker]="{mask:'00000-000', len:9}"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Informe a rua</ion-label>
        <ion-input type="text" [formControl]="realEstateForm.controls['street']" name="street" [(ngModel)]="realEstate.street"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Informe o Bairro</ion-label>
        <ion-input type="text" [formControl]="realEstateForm.controls['district']" name="district" [(ngModel)]="realEstate.district"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Informe a Cidade</ion-label>
        <ion-input type="text" [formControl]="realEstateForm.controls['city']" name="city" [(ngModel)]="realEstate.city"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label floating>Informe o UF</ion-label>
        <ion-input type="text" [formControl]="realEstateForm.controls['state']" name="state" [(ngModel)]="realEstate.state"></ion-input>
      </ion-item>

      <button class="main-button btn-secondary" ion-button large round color="secondary" strong [disabled]="!realEstateForm.valid" (click)="addRealEstate()"
        margin-top icon-start><ion-icon name="custom-save"></ion-icon>Salvar</button>
    </ion-list>
  </form>

</ion-content>